---
pagination:
  data: collections.locations
  size: 1
  alias: location
permalink: /locations/{{ location | slugify }}/
eleventyComputed:
  title: "Events in {{ location }}"
  location: "{{ location }}"
  tags:
    - location
    - "{{ location }}"
---
<div class="container my-8 mx-auto prose md:prose-xl">
    <h2 class="mb-2 md:mb-4 text-center">{{ location }}</h2>
    {{ (collections[location] | first).content | safe }}
</div>

{% if (collections.events | where(location, "data.location") | upcoming).length > 0 %}
<div class="divider divider-accent">Upcoming Events…</div>

<div class="container mx-auto my-8">
    {%- from 'component.njk' import component with context -%}
    {{ component('event/timeline', collections.events | where(location, "data.location") | upcoming) }}
</div>
{% endif %}

{% if (collections.events | where(location, "data.location") | past).length > 0 %}
<div class="divider divider-accent">Previous Events…</div>

<div class="container mx-auto my-8">
    {%- from 'component.njk' import component with context -%}
    {{ component('event/timeline', collections.events | where(location, "data.location") | past | reverse) }}
</div>
{% endif %}
