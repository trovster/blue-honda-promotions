---
pagination:
  data: collections.venues
  size: 1
  alias: venue
permalink: "/venues/{{ venue.data.title | slugify }}/"
eleventyComputed:
  title: "{{ venue.data.title }}"
  location: "{{ venue.data.city }}"
  description: "{{ venue.data.description }}"
  tags:
    - venue
    - "{{ venue.data.title }}"
    - "{{ venue.data.city }}"
---
<div class="container my-8 mx-auto prose md:prose-xl">
    <h2 class="mb-2 md:mb-4">{{ title }}, <span>{{ location }}</span></h2>

    {{ description | safe }}

    {% if venue.data.url %}
    <p><a href="{{ venue.data.url }}" class="link">{{ venue.data.url | shorten }}</a></p>
    {% endif %}
</div>

{% if (collections.events | where(title, "data.venue") | upcoming).length > 0 %}
<div class="divider divider-accent">Upcoming Events…</div>

<div class="container mx-auto my-8">
    {%- from 'component.njk' import component with context -%}
    {{ component('event/timeline', collections.events | where(title, "data.venue") | upcoming) }}
</div>
{% endif %}

{% if (collections.events | where(title, "data.venue") | past).length > 0 %}
<div class="divider divider-accent">Previous Events…</div>

<div class="container mx-auto my-8">
    {%- from 'component.njk' import component with context -%}
    {{ component('event/timeline', collections.events | where(title, "data.venue") | past | reverse) }}
</div>
{% endif %}
